{"version":3,"sources":["./src/app/venueorders/orders-routing.module.ts","./src/app/venueorders/orders.component.html","./src/app/venueorders/orders.component.ts","./src/app/venueorders/orders.module.ts"],"names":[],"mappings":"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","file":"venueorders-orders-module-ngfactory-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { OrdersComponent } from './orders.component';\n\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrdersComponent,\n    data: {\n      breadcrumb: 'Orders'\n    }\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class OrdersRoutingModule { }\n","<div class=\"row\">\n  <div class=\"col-md-12\">\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <h5>{{'All Order' | translate}}</h5>\n      </div>\n      <div class=\"card-body reset-table p-t-0\">\n        <div class=\"form-group row\">\n          <label class=\"col-sm-2 col-form-label\">{{'Search' | translate}}</label>\n          <div class=\"col-sm-6\">\n            <input type=\"text\" class=\"form-control form-control-round\"\n              [placeholder]=\"('Search Order By ID' | translate) || '&nbsp;'\" (input)=\"search($event.target.value)\">\n          </div>\n\n        </div>\n        <div class=\"table-responsive\">\n          <table class=\"table table-hover\">\n            <thead>\n              <tr class=\"text-uppercase\">\n                <th>ID</th>\n                <th>{{'User' | translate}}</th>\n                <th>{{'User Name' | translate}}</th>\n                <th>{{'Restaurant' | translate}}</th>\n                <th>{{'Ordered on' | translate}}</th>\n                <th>{{'Status' | translate}}</th>\n                <th>{{'Total' | translate}}</th>\n                <th>{{'Quantity' | translate}}</th>\n                <th>{{'Actions' | translate}}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr *ngFor=\"let item of dummy\">\n                <td>\n                  <ngx-skeleton-loader count=\"1\" [theme]=\"{\n                        'border-radius': '5px',\n                        height: '10px',\n                        border: '1px solid white'\n                      }\"></ngx-skeleton-loader>\n                </td>\n                <td>\n                  <ngx-skeleton-loader count=\"1\" [theme]=\"{\n                            'border-radius': '5px',\n                            height: '10px',\n                            border: '1px solid white'\n                        }\"></ngx-skeleton-loader>\n                </td>\n                <td>\n                  <ngx-skeleton-loader count=\"1\" [theme]=\"{\n                            'border-radius': '5px',\n                            height: '10px',\n                            border: '1px solid white'\n                          }\"></ngx-skeleton-loader>\n                </td>\n                <td>\n                  <ngx-skeleton-loader count=\"1\" [theme]=\"{\n                        'border-radius': '5px',\n                        height: '10px',\n                        border: '1px solid white'\n                      }\"></ngx-skeleton-loader>\n                </td>\n                <td>\n                  <ngx-skeleton-loader count=\"1\" [theme]=\"{\n                          'border-radius': '5px',\n                          height: '10px',\n                          border: '1px solid white'\n                        }\"></ngx-skeleton-loader>\n                </td>\n                <td>\n                  <ngx-skeleton-loader count=\"1\" [theme]=\"{\n                          'border-radius': '5px',\n                          height: '10px',\n                          border: '1px solid white'\n                        }\"></ngx-skeleton-loader>\n                </td>\n                <td>\n                  <ngx-skeleton-loader count=\"1\" [theme]=\"{\n                        'border-radius': '5px',\n                        height: '10px',\n                        border: '1px solid white'\n                      }\"></ngx-skeleton-loader>\n                </td>\n                <td>\n                  <ngx-skeleton-loader count=\"1\" [theme]=\"{\n                          'border-radius': '5px',\n                          height: '10px',\n                          border: '1px solid white'\n                        }\"></ngx-skeleton-loader>\n                </td>\n                <td>\n                  <ngx-skeleton-loader count=\"1\" [theme]=\"{\n                                    'border-radius': '5px',\n                                    height: '10px',\n                                    border: '1px solid white'\n                                }\"></ngx-skeleton-loader>\n                </td>\n              </tr>\n              <tr *ngFor=\"let item of orders;let i = index\">\n                <td>{{item.id}}</td>\n                <td><a href=\"javascript:;\"><img class=\"img-responsive\" style=\"height: 40px;border-radius: 50%;\"\n                      [src]=\"item.uid.cover\" onError=\"this.src='assets/images/user.png'\" alt=\"chat-user\"></a>\n                </td>\n                <td> {{item.uid.fullname}}</td>\n                <td>{{item.vid.name}}</td>\n                <td>{{getDates(item.time)}}</td>\n                <td><button type=\"button\" disabled [className]=\"getClass(item.status)\">{{item.status | translate}}</button></td>\n                \n                <td> {{getCurrency()}} {{item.grandTotal}}</td>\n                <td>{{item.order.length}}</td>\n                <td><button type=\"button\" (click)=\"openOrder(item)\"\n                    class=\"btn btn-success btn-round btn-outline-success\">{{'View' | translate}}</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n","import { Component, OnInit } from '@angular/core';\nimport { ApisService } from '../services/apis.service';\nimport * as moment from 'moment';\nimport { NavigationExtras, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-orders',\n  templateUrl: './orders.component.html',\n  styleUrls: ['./orders.component.css']\n})\nexport class OrdersComponent implements OnInit {\n  orders: any[] = [];\n  dummOrders: any[] = [];\n  dummy = Array(10);\n  constructor(\n    private api: ApisService,\n    private router: Router\n  ) {\n    this.getOrders();\n  }\n\n  ngOnInit() {\n    setInterval(()=>{\n      this.getOrders();\n    },30000)\n  }\n  getAllOrders() {\n    this.api.getAllOrders().then((data) => {\n      console.log('orders data', data);\n      data.forEach(element => {\n        element.time = new Date(element.time);\n        element.order = JSON.parse(element.order);\n      });\n      data.sort((a, b) => b.time - a.time);\n      this.orders = data;\n      this.dummOrders = data;\n      this.dummy = [];\n    }, error => {\n      console.log(error);\n      this.dummy = [];\n    }).catch(error => {\n      console.log(error);\n      this.dummy = [];\n    });\n  }\n\n\n  getOrders() {\n    console.log('vid', localStorage.getItem('uid'));\n    this.dummy = Array(50);\n    this.api.getMyOrdersVenue(localStorage.getItem('uid')).then((data) => {\n      this.dummy = [];\n      console.log('orders', data);\n      if (data && data.length > 0) {\n        data.sort((a, b) => b.time - a.time);\n      this.orders = data;\n      this.dummOrders = data;\n      this.dummy = [];\n      }\n    }, err => {\n      console.log(err);\n      this.dummy = [];\n    }).catch(e => {\n      console.log(e);\n      this.dummy = [];\n    });\n  }\n\n  search(string) {\n    this.resetChanges();\n    console.log('string', string);\n    this.orders = this.filterItems(string);\n  }\n\n\n  protected resetChanges = () => {\n    this.orders = this.dummOrders;\n  }\n\n  setFilteredItems() {\n    console.log('clear');\n    this.orders = [];\n    this.orders = this.dummOrders;\n  }\n\n  filterItems(searchTerm) {\n    return this.orders.filter((item) => {\n      return item.id.toLowerCase().indexOf(searchTerm.toLowerCase()) > -1;\n    });\n\n  }\n\n\n  getClass(item) {\n    if (item === 'created' || item === 'accepted' || item === 'picked') {\n      return 'btn btn-primary btn-round';\n    } else if (item === 'delivered') {\n      return 'btn btn-success btn-round';\n    } else if (item === 'rejected' || item === 'cancel') {\n      return 'btn btn-danger btn-round';\n    }\n    return 'btn btn-warning btn-round';\n  }\n\n  openOrder(item) {\n    console.log(item);\n    const navData: NavigationExtras = {\n      queryParams: {\n        id: item.id\n      }\n    };\n    this.router.navigate(['venue','orderdetails'], navData);\n  }\n\n\n\n  openSetDriver(item) {\n    console.log(item);\n    const navData: NavigationExtras = {\n      queryParams: {\n        id: item.id\n      }\n    };\n    this.router.navigate(['admin-orderdriver'], navData);\n  }\n  getDates(date) {\n    return moment(date).format('llll');\n  }\n\n  getCurrency() {\n    return this.api.getCurrecySymbol();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { OrdersRoutingModule } from './orders-routing.module';\nimport { OrdersComponent } from './orders.component';\nimport { NgxSkeletonLoaderModule } from 'ngx-skeleton-loader';\nimport { SharedModule } from '../shared/shared.module';\n\n\n@NgModule({\n  declarations: [OrdersComponent],\n  imports: [\n    CommonModule,\n    OrdersRoutingModule,\n    NgxSkeletonLoaderModule,\n    SharedModule\n  ]\n})\nexport class OrdersModule { }\n"],"sourceRoot":"webpack:///"}